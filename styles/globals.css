@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }

  body {
    @apply px-4 lg:px-0 text-base font-poppins font-normal text-sand text-render-legibility bg-spruce bg-topography;
  }

  li {
    @apply text-sm font-medium text-sand leading-relaxed transition-colors duration-700;
  }

  section li {
    @apply relative pl-4 before:content-['â–¹'] before:block before:absolute before:left-0 before:text-base before:text-dawn;
  }
}

@layer components {
  .header.up {
    @apply lg:bg-spruce lg:translate-y-0 lg:shadow-2xl;
  }

  .header.down {
    @apply lg:-translate-y-full;
  }

  .drawer.active {
    @apply translate-x-0;
  }

  section.active .profile {
    @apply after:w-full before:h-full after:border-sandstone before:border-sandstone;
  }

  section.active .section-title {
    @apply after:w-[300px] after:bg-sandstone;
  }

  section.active .timeline {
    @apply sm:before:h-full sm:before:bg-sandstone;
  }

  .job.active {
    @apply opacity-100;
  }

  .job.active .job-head {
    @apply before:scale-100;
  }

  .header {
    @apply lg:flex lg:items-center lg:fixed lg:top-0 lg:right-0 lg:left-0 lg:z-50 lg:h-24 lg:px-14 transition-all duration-500;
  }

  .drawer {
    @apply fixed top-0 right-0 z-40 w-3/4 h-full p-10 bg-spruce shadow-2xl translate-x-full transition-all duration-700;
  }

  .section-title {
    @apply flex items-center text-sm tracking-widest after:content-[''] after:block after:w-0 after:h-[2px] after:ml-6 after:bg-transparent after:transition-all after:duration-700;
  }

  .profile {
    @apply lg:col-span-5 lg:self-start relative bg-dawn lg:after:content-[''] lg:after:block lg:after:absolute lg:after:-bottom-[20px] lg:after:-right-[20px] lg:after:w-0 lg:after:border-r-2 lg:after:border-b-2 lg:after:border-solid lg:after:border-transparent lg:after:transition-all lg:after:duration-700 lg:before:content-[''] lg:before:block lg:before:absolute lg:before:-bottom-[20px] lg:before:-right-[20px] lg:before:h-0 lg:before:border-r-2 lg:before:border-b-2 lg:before:border-solid lg:before:border-transparent lg:before:transition-all lg:before:duration-700;
  }

  .timeline {
    @apply relative py-12 space-y-12 sm:space-y-24 sm:before:content-[''] sm:before:block sm:before:absolute sm:before:top-0 sm:before:inset-x-0 sm:before:w-[2px] sm:before:h-0 sm:before:mx-auto sm:before:bg-transparent sm:before:transition-all sm:before:duration-1000;
  }

  .job {
    @apply flex flex-col sm:flex-row sm:justify-between sm:even:flex-row-reverse relative opacity-0 transition-all duration-700;
  }

  .job-head {
    @apply sm:basis-[300px] order-2 sm:order-1 space-y-6 sm:before:content-[''] sm:before:block sm:before:absolute sm:before:top-0 sm:before:inset-x-0 sm:before:w-10 sm:before:h-10 sm:before:mx-auto sm:before:bg-dawn sm:before:scale-0 sm:before:transition-all sm:before:duration-700 sm:before:rotate-45;
  }

  .job-title {
    @apply font-bold;
  }

  .job-company {
    @apply text-xs uppercase tracking-[3px];
  }

  .job-description {
    @apply space-y-6;
  }

  .job-description li {
    @apply leading-relaxed;
  }

  .job-date {
    @apply sm:basis-[300px] sm:self-start order-1 sm:order-2 sm:mt-2 sm:text-center;
  }
}

@layer utilities {
  .text-render-legibility {
    text-rendering: optimizeLegibility;
  }

  .writing-mode-rl {
    writing-mode: vertical-rl;
  }

  .bg-topography {
    background-image: url('/topography.svg');
    background-repeat: repeat;
    background-size: 40%;
  }
}
